{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\91799\\\\Desktop\\\\bomb-dashboard-final-task\\\\src\\\\views\\\\Dashboard\\\\componentsBond\\\\ExchangeCardBtn.tsx\";\nimport React from 'react';\nimport styled from 'styled-components';\nimport { Button } from '@material-ui/core'; // import Button from '../../../components/Button';\n// import Card from '../../../components/Card';\n\nimport useBombFinance from '../../../hooks/useBombFinance';\nimport useModal from '../../../hooks/useModal';\nimport ExchangeModal from '../../Bond/components/ExchangeModal';\nimport useTokenBalance from '../../../hooks/useTokenBalance';\nimport useApprove, { ApprovalState } from '../../../hooks/useApprove';\nimport useCatchError from '../../../hooks/useCatchError';\nimport { useWallet } from \"use-wallet\";\nimport UnlockWallet from '../../../components/UnlockWallet';\n\nconst ExchangeCard = _ref => {\n  let {\n    action,\n    fromToken,\n    fromTokenName,\n    toToken,\n    toTokenName,\n    priceDesc,\n    onExchange,\n    disabled = false,\n    disabledDescription\n  } = _ref;\n  const catchError = useCatchError();\n  const {\n    contracts: {\n      Treasury\n    }\n  } = useBombFinance();\n  const [approveStatus, approve] = useApprove(fromToken, Treasury.address);\n  const {\n    account\n  } = useWallet();\n  const balance = useTokenBalance(fromToken);\n  const [onPresent, onDismiss] = useModal( /*#__PURE__*/React.createElement(ExchangeModal, {\n    title: action,\n    description: priceDesc,\n    max: balance,\n    onConfirm: value => {\n      onExchange(value);\n      onDismiss();\n    },\n    action: action,\n    tokenName: fromTokenName,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 5\n    }\n  }));\n  return /*#__PURE__*/React.createElement(React.Fragment, null, !!account ? /*#__PURE__*/React.createElement(React.Fragment, null, approveStatus !== ApprovalState.APPROVED && !disabled ? /*#__PURE__*/React.createElement(Button, {\n    className: \"shinyButton\",\n    disabled: approveStatus === ApprovalState.PENDING || approveStatus === ApprovalState.UNKNOWN,\n    onClick: () => catchError(approve(), `Unable to approve ${fromTokenName}`),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 11\n    }\n  }, fromTokenName) : /*#__PURE__*/React.createElement(Button, {\n    className: disabled ? 'shinyButtonDisabled' : 'shinyButton',\n    onClick: onPresent,\n    disabled: disabled,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 11\n    }\n  }, disabledDescription || action)) : /*#__PURE__*/React.createElement(UnlockWallet, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }\n  }));\n};\n\nconst StyledCardTitle = styled.div`\n  align-items: center;\n  display: flex;\n  font-size: 20px;\n  font-weight: 700;\n  height: 64px;\n  justify-content: center;\n  color: #f9d749;\n  margin-top: ${props => -props.theme.spacing[3]}px;\n`;\nconst StyledCardIcon = styled.div`\n  background-color: ${props => props.theme.color.grey[900]};\n  width: 72px;\n  height: 72px;\n  border-radius: 36px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-bottom: ${props => props.theme.spacing[2]}px;\n`;\nconst StyledExchanger = styled.div`\n  align-items: center;\n  display: flex;\n  margin-bottom: ${props => props.theme.spacing[5]}px;\n`;\nconst StyledExchangeArrow = styled.div`\n  font-size: 20px;\n  padding-left: ${props => props.theme.spacing[3]}px;\n  padding-right: ${props => props.theme.spacing[3]}px;\n  padding-bottom: ${props => props.theme.spacing[4]}px;\n`;\nconst StyledToken = styled.div`\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n  font-weight: 600;\n`;\nconst StyledCardActions = styled.div`\n  display: flex;\n  justify-content: center;\n  margin-top: ${props => props.theme.spacing[3]}px;\n  width: 100%;\n`;\nconst StyledDesc = styled.span``;\nconst StyledCardContentInner = styled.div`\n  align-items: center;\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  justify-content: space-between;\n`;\nexport default ExchangeCard;","map":{"version":3,"sources":["C:/Users/91799/Desktop/bomb-dashboard-final-task/src/views/Dashboard/componentsBond/ExchangeCardBtn.tsx"],"names":["React","styled","Button","useBombFinance","useModal","ExchangeModal","useTokenBalance","useApprove","ApprovalState","useCatchError","useWallet","UnlockWallet","ExchangeCard","action","fromToken","fromTokenName","toToken","toTokenName","priceDesc","onExchange","disabled","disabledDescription","catchError","contracts","Treasury","approveStatus","approve","address","account","balance","onPresent","onDismiss","value","APPROVED","PENDING","UNKNOWN","StyledCardTitle","div","props","theme","spacing","StyledCardIcon","color","grey","StyledExchanger","StyledExchangeArrow","StyledToken","StyledCardActions","StyledDesc","span","StyledCardContentInner"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport {Button, Card} from '@material-ui/core';\r\n\r\n// import Button from '../../../components/Button';\r\n// import Card from '../../../components/Card';\r\nimport CardContent from '../../../components/CardContent';\r\nimport useBombFinance from '../../../hooks/useBombFinance';\r\nimport Label from '../../../components/Label';\r\nimport TokenSymbol from '../../../components/TokenSymbol';\r\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome';\r\nimport {faArrowRight} from '@fortawesome/free-solid-svg-icons';\r\nimport useModal from '../../../hooks/useModal';\r\nimport ExchangeModal from '../../Bond/components/ExchangeModal';\r\nimport ERC20 from '../../../bomb-finance/ERC20';\r\nimport useTokenBalance from '../../../hooks/useTokenBalance';\r\nimport useApprove, {ApprovalState} from '../../../hooks/useApprove';\r\nimport useCatchError from '../../../hooks/useCatchError';\r\nimport { useWallet } from \"use-wallet\";\r\nimport UnlockWallet from '../../../components/UnlockWallet';\r\n\r\ninterface ExchangeCardProps {\r\n  action: string;\r\n  fromToken: ERC20;\r\n  fromTokenName: string;\r\n  toToken: ERC20;\r\n  toTokenName: string;\r\n  priceDesc: string;\r\n  onExchange: (amount: string) => void;\r\n  disabled?: boolean;\r\n  disabledDescription?: string;\r\n}\r\n\r\nconst ExchangeCard: React.FC<ExchangeCardProps> = ({\r\n  action,\r\n  fromToken,\r\n  fromTokenName,\r\n  toToken,\r\n  toTokenName,\r\n  priceDesc,\r\n  onExchange,\r\n  disabled = false,\r\n  disabledDescription,\r\n}) => {\r\n  const catchError = useCatchError();\r\n  const {\r\n    contracts: {Treasury},\r\n  } = useBombFinance();\r\n  const [approveStatus, approve] = useApprove(fromToken, Treasury.address);\r\n\r\n  const {account} = useWallet();\r\n  const balance = useTokenBalance(fromToken);\r\n  const [onPresent, onDismiss] = useModal(\r\n    <ExchangeModal\r\n      title={action}\r\n      description={priceDesc}\r\n      max={balance}\r\n      onConfirm={(value) => {\r\n        onExchange(value);\r\n        onDismiss();\r\n      }}\r\n      action={action}\r\n      tokenName={fromTokenName}\r\n    />,\r\n  );\r\n  return (\r\n    <>\r\n      {!!account ? (\r\n        <>\r\n        {approveStatus !== ApprovalState.APPROVED && !disabled ? (\r\n          <Button\r\n            className=\"shinyButton\"\r\n            disabled={approveStatus === ApprovalState.PENDING || approveStatus === ApprovalState.UNKNOWN}\r\n            onClick={() => catchError(approve(), `Unable to approve ${fromTokenName}`)}\r\n          >\r\n            {fromTokenName}\r\n          </Button>\r\n        ) : (\r\n          <Button\r\n            className={disabled ? 'shinyButtonDisabled' : 'shinyButton'}\r\n            onClick={onPresent}\r\n            disabled={disabled}\r\n          >\r\n            {disabledDescription || action}\r\n          </Button>\r\n        )}\r\n        </>\r\n      ) : (\r\n        <UnlockWallet />\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nconst StyledCardTitle = styled.div`\r\n  align-items: center;\r\n  display: flex;\r\n  font-size: 20px;\r\n  font-weight: 700;\r\n  height: 64px;\r\n  justify-content: center;\r\n  color: #f9d749;\r\n  margin-top: ${(props) => -props.theme.spacing[3]}px;\r\n`;\r\n\r\nconst StyledCardIcon = styled.div`\r\n  background-color: ${(props) => props.theme.color.grey[900]};\r\n  width: 72px;\r\n  height: 72px;\r\n  border-radius: 36px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin-bottom: ${(props) => props.theme.spacing[2]}px;\r\n`;\r\n\r\nconst StyledExchanger = styled.div`\r\n  align-items: center;\r\n  display: flex;\r\n  margin-bottom: ${(props) => props.theme.spacing[5]}px;\r\n`;\r\n\r\nconst StyledExchangeArrow = styled.div`\r\n  font-size: 20px;\r\n  padding-left: ${(props) => props.theme.spacing[3]}px;\r\n  padding-right: ${(props) => props.theme.spacing[3]}px;\r\n  padding-bottom: ${(props) => props.theme.spacing[4]}px;\r\n`;\r\n\r\nconst StyledToken = styled.div`\r\n  align-items: center;\r\n  display: flex;\r\n  flex-direction: column;\r\n  font-weight: 600;\r\n`;\r\n\r\nconst StyledCardActions = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  margin-top: ${(props) => props.theme.spacing[3]}px;\r\n  width: 100%;\r\n`;\r\n\r\nconst StyledDesc = styled.span``;\r\n\r\nconst StyledCardContentInner = styled.div`\r\n  align-items: center;\r\n  display: flex;\r\n  flex: 1;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n`;\r\n\r\nexport default ExchangeCard;\r\n"]},"metadata":{},"sourceType":"module"}
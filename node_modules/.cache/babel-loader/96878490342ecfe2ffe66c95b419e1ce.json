{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\91799\\\\Desktop\\\\bomb-dashboard-final-task\\\\src\\\\views\\\\Dashboard\\\\componentsBond\\\\ExchangeCard.tsx\";\nimport React from 'react';\nimport styled from 'styled-components';\nimport { Button, Card } from '@material-ui/core'; // import Button from '../../../components/Button';\n// import Card from '../../../components/Card';\n\nimport CardContent from '../../../components/CardContent';\nimport useBombFinance from '../../../hooks/useBombFinance';\nimport useModal from '../../../hooks/useModal';\nimport ExchangeModal from './ExchangeModal';\nimport useTokenBalance from '../../../hooks/useTokenBalance';\nimport useApprove, { ApprovalState } from '../../../hooks/useApprove';\nimport useCatchError from '../../../hooks/useCatchError';\nimport { useWallet } from \"use-wallet\";\nimport UnlockWallet from '../../../components/UnlockWallet';\n\nconst ExchangeCard = _ref => {\n  let {\n    action,\n    fromToken,\n    fromTokenName,\n    toToken,\n    toTokenName,\n    priceDesc,\n    onExchange,\n    disabled = false,\n    disabledDescription\n  } = _ref;\n  const catchError = useCatchError();\n  const {\n    contracts: {\n      Treasury\n    }\n  } = useBombFinance();\n  const [approveStatus, approve] = useApprove(fromToken, Treasury.address);\n  const {\n    account\n  } = useWallet();\n  const balance = useTokenBalance(fromToken);\n  const [onPresent, onDismiss] = useModal( /*#__PURE__*/React.createElement(ExchangeModal, {\n    title: action,\n    description: priceDesc,\n    max: balance,\n    onConfirm: value => {\n      onExchange(value);\n      onDismiss();\n    },\n    action: action,\n    tokenName: fromTokenName,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 5\n    }\n  }));\n  return /*#__PURE__*/React.createElement(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(CardContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(StyledCardContentInner, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(StyledDesc, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 11\n    }\n  }, priceDesc), /*#__PURE__*/React.createElement(StyledCardActions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 11\n    }\n  }, !!account ? /*#__PURE__*/React.createElement(React.Fragment, null, approveStatus !== ApprovalState.APPROVED && !disabled ? /*#__PURE__*/React.createElement(Button, {\n    className: \"shinyButton\",\n    disabled: approveStatus === ApprovalState.PENDING || approveStatus === ApprovalState.UNKNOWN,\n    onClick: () => catchError(approve(), `Unable to approve ${fromTokenName}`),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 17\n    }\n  }, `Approve ${fromTokenName}`) : /*#__PURE__*/React.createElement(Button, {\n    className: disabled ? 'shinyButtonDisabled' : 'shinyButton',\n    onClick: onPresent,\n    disabled: disabled,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 17\n    }\n  }, disabledDescription || action)) : /*#__PURE__*/React.createElement(UnlockWallet, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 15\n    }\n  })))));\n};\n\nconst StyledCardTitle = styled.div`\n  align-items: center;\n  display: flex;\n  font-size: 20px;\n  font-weight: 700;\n  height: 64px;\n  justify-content: center;\n  color: #f9d749;\n  margin-top: ${props => -props.theme.spacing[3]}px;\n`;\nconst StyledCardIcon = styled.div`\n  background-color: ${props => props.theme.color.grey[900]};\n  width: 72px;\n  height: 72px;\n  border-radius: 36px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-bottom: ${props => props.theme.spacing[2]}px;\n`;\nconst StyledExchanger = styled.div`\n  align-items: center;\n  display: flex;\n  margin-bottom: ${props => props.theme.spacing[5]}px;\n`;\nconst StyledExchangeArrow = styled.div`\n  font-size: 20px;\n  padding-left: ${props => props.theme.spacing[3]}px;\n  padding-right: ${props => props.theme.spacing[3]}px;\n  padding-bottom: ${props => props.theme.spacing[4]}px;\n`;\nconst StyledToken = styled.div`\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n  font-weight: 600;\n`;\nconst StyledCardActions = styled.div`\n  display: flex;\n  justify-content: center;\n  margin-top: ${props => props.theme.spacing[3]}px;\n  width: 100%;\n`;\nconst StyledDesc = styled.span``;\nconst StyledCardContentInner = styled.div`\n  align-items: center;\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  justify-content: space-between;\n`;\nexport default ExchangeCard;","map":{"version":3,"sources":["C:/Users/91799/Desktop/bomb-dashboard-final-task/src/views/Dashboard/componentsBond/ExchangeCard.tsx"],"names":["React","styled","Button","Card","CardContent","useBombFinance","useModal","ExchangeModal","useTokenBalance","useApprove","ApprovalState","useCatchError","useWallet","UnlockWallet","ExchangeCard","action","fromToken","fromTokenName","toToken","toTokenName","priceDesc","onExchange","disabled","disabledDescription","catchError","contracts","Treasury","approveStatus","approve","address","account","balance","onPresent","onDismiss","value","APPROVED","PENDING","UNKNOWN","StyledCardTitle","div","props","theme","spacing","StyledCardIcon","color","grey","StyledExchanger","StyledExchangeArrow","StyledToken","StyledCardActions","StyledDesc","span","StyledCardContentInner"],"mappings":"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","sourcesContent":["import React from 'react';\nimport styled from 'styled-components';\n\nimport {Button, Card} from '@material-ui/core';\n\n// import Button from '../../../components/Button';\n// import Card from '../../../components/Card';\nimport CardContent from '../../../components/CardContent';\nimport useBombFinance from '../../../hooks/useBombFinance';\nimport Label from '../../../components/Label';\nimport TokenSymbol from '../../../components/TokenSymbol';\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome';\nimport {faArrowRight} from '@fortawesome/free-solid-svg-icons';\nimport useModal from '../../../hooks/useModal';\nimport ExchangeModal from './ExchangeModal';\nimport ERC20 from '../../../bomb-finance/ERC20';\nimport useTokenBalance from '../../../hooks/useTokenBalance';\nimport useApprove, {ApprovalState} from '../../../hooks/useApprove';\nimport useCatchError from '../../../hooks/useCatchError';\nimport { useWallet } from \"use-wallet\";\nimport UnlockWallet from '../../../components/UnlockWallet';\n\ninterface ExchangeCardProps {\n  action: string;\n  fromToken: ERC20;\n  fromTokenName: string;\n  toToken: ERC20;\n  toTokenName: string;\n  priceDesc: string;\n  onExchange: (amount: string) => void;\n  disabled?: boolean;\n  disabledDescription?: string;\n}\n\nconst ExchangeCard: React.FC<ExchangeCardProps> = ({\n  action,\n  fromToken,\n  fromTokenName,\n  toToken,\n  toTokenName,\n  priceDesc,\n  onExchange,\n  disabled = false,\n  disabledDescription,\n}) => {\n  const catchError = useCatchError();\n  const {\n    contracts: {Treasury},\n  } = useBombFinance();\n  const [approveStatus, approve] = useApprove(fromToken, Treasury.address);\n\n  const {account} = useWallet();\n  const balance = useTokenBalance(fromToken);\n  const [onPresent, onDismiss] = useModal(\n    <ExchangeModal\n      title={action}\n      description={priceDesc}\n      max={balance}\n      onConfirm={(value) => {\n        onExchange(value);\n        onDismiss();\n      }}\n      action={action}\n      tokenName={fromTokenName}\n    />,\n  );\n  return (\n    <Card>\n      <CardContent>\n        <StyledCardContentInner>\n          <StyledDesc>{priceDesc}</StyledDesc>\n          <StyledCardActions>\n            {!!account ? (\n              <>\n              {approveStatus !== ApprovalState.APPROVED && !disabled ? (\n                <Button\n                  className=\"shinyButton\"\n                  disabled={approveStatus === ApprovalState.PENDING || approveStatus === ApprovalState.UNKNOWN}\n                  onClick={() => catchError(approve(), `Unable to approve ${fromTokenName}`)}\n                >\n                  {`Approve ${fromTokenName}`}\n                </Button>\n              ) : (\n                <Button\n                  className={disabled ? 'shinyButtonDisabled' : 'shinyButton'}\n                  onClick={onPresent}\n                  disabled={disabled}\n                >\n                  {disabledDescription || action}\n                </Button>\n              )}\n              </>\n            ) : (\n              <UnlockWallet />\n            )}\n          </StyledCardActions>\n        </StyledCardContentInner>\n      </CardContent>\n    </Card>\n  );\n};\n\nconst StyledCardTitle = styled.div`\n  align-items: center;\n  display: flex;\n  font-size: 20px;\n  font-weight: 700;\n  height: 64px;\n  justify-content: center;\n  color: #f9d749;\n  margin-top: ${(props) => -props.theme.spacing[3]}px;\n`;\n\nconst StyledCardIcon = styled.div`\n  background-color: ${(props) => props.theme.color.grey[900]};\n  width: 72px;\n  height: 72px;\n  border-radius: 36px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-bottom: ${(props) => props.theme.spacing[2]}px;\n`;\n\nconst StyledExchanger = styled.div`\n  align-items: center;\n  display: flex;\n  margin-bottom: ${(props) => props.theme.spacing[5]}px;\n`;\n\nconst StyledExchangeArrow = styled.div`\n  font-size: 20px;\n  padding-left: ${(props) => props.theme.spacing[3]}px;\n  padding-right: ${(props) => props.theme.spacing[3]}px;\n  padding-bottom: ${(props) => props.theme.spacing[4]}px;\n`;\n\nconst StyledToken = styled.div`\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n  font-weight: 600;\n`;\n\nconst StyledCardActions = styled.div`\n  display: flex;\n  justify-content: center;\n  margin-top: ${(props) => props.theme.spacing[3]}px;\n  width: 100%;\n`;\n\nconst StyledDesc = styled.span``;\n\nconst StyledCardContentInner = styled.div`\n  align-items: center;\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  justify-content: space-between;\n`;\n\nexport default ExchangeCard;\n"]},"metadata":{},"sourceType":"module"}